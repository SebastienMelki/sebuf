{"components":{"schemas":{"Address":{"description":"Address is a child message used for flattening.","properties":{"city":{"type":"string"},"street":{"type":"string"},"zip":{"type":"string"}},"type":"object"},"ContactInfo":{"description":"ContactInfo is a non-flattened child message.","properties":{"email":{"type":"string"},"phone":{"type":"string"}},"type":"object"},"DualFlatten":{"allOf":[{"properties":{"id":{"type":"string"}},"type":"object"},{"description":"Flattened from billing with prefix \"billing_\"","properties":{"billing_city":{"type":"string"},"billing_street":{"type":"string"},"billing_zip":{"type":"string"}},"type":"object"},{"description":"Flattened from shipping with prefix \"shipping_\"","properties":{"shipping_city":{"type":"string"},"shipping_street":{"type":"string"},"shipping_zip":{"type":"string"}},"type":"object"}],"description":"DualFlatten demonstrates flatten with prefix (two flattened fields of same type).\n Uses prefixes to disambiguate billing and shipping address fields."},"Error":{"description":"Error is returned when a handler encounters an error. It contains a simple error message that the developer can customize.","properties":{"message":{"description":"Error message (e.g., 'user not found', 'database connection failed')","type":"string"}},"type":"object"},"FieldViolation":{"description":"FieldViolation describes a single validation error for a specific field.","properties":{"description":{"description":"Human-readable description of the validation violation (e.g., 'must be a valid email address', 'required field missing')","type":"string"},"field":{"description":"The field path that failed validation (e.g., 'user.email' for nested fields). For header validation, this will be the header name (e.g., 'X-API-Key')","type":"string"}},"required":["field","description"],"type":"object"},"MixedFlatten":{"allOf":[{"properties":{"contact":{"$ref":"#/components/schemas/ContactInfo"},"id":{"type":"string"},"notes":{"type":"string"}},"type":"object"},{"description":"Flattened from address","properties":{"city":{"type":"string"},"street":{"type":"string"},"zip":{"type":"string"}},"type":"object"}],"description":"MixedFlatten demonstrates a mix of flattened and non-flattened fields."},"PlainNested":{"description":"PlainNested has no flatten annotation (backward compatible).","properties":{"address":{"$ref":"#/components/schemas/Address"},"id":{"type":"string"}},"type":"object"},"SimpleFlatten":{"allOf":[{"properties":{"id":{"type":"string"}},"type":"object"},{"description":"Flattened from address","properties":{"city":{"type":"string"},"street":{"type":"string"},"zip":{"type":"string"}},"type":"object"}],"description":"SimpleFlatten demonstrates basic flatten without prefix.\n Address fields (street, city, zip) are promoted to parent level."},"ValidationError":{"description":"ValidationError is returned when request validation fails. It contains a list of field violations describing what went wrong.","properties":{"violations":{"description":"List of validation violations","items":{"$ref":"#/components/schemas/FieldViolation"},"type":"array"}},"required":["violations"],"type":"object"}}},"info":{"title":"FlattenService API","version":"1.0.0"},"openapi":"3.1.0","paths":{"/api/v1/flatten/dual":{"post":{"operationId":"TestDualFlatten","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DualFlatten"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DualFlatten"}}},"description":"Successful response"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidationError"}}},"description":"Validation error"},"default":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}},"description":"Error response"}},"summary":"TestDualFlatten","tags":["FlattenService"]}},"/api/v1/flatten/mixed":{"post":{"operationId":"TestMixedFlatten","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MixedFlatten"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MixedFlatten"}}},"description":"Successful response"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidationError"}}},"description":"Validation error"},"default":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}},"description":"Error response"}},"summary":"TestMixedFlatten","tags":["FlattenService"]}},"/api/v1/flatten/plain":{"post":{"operationId":"TestPlainNested","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlainNested"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlainNested"}}},"description":"Successful response"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidationError"}}},"description":"Validation error"},"default":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}},"description":"Error response"}},"summary":"TestPlainNested","tags":["FlattenService"]}},"/api/v1/flatten/simple":{"post":{"operationId":"TestSimpleFlatten","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SimpleFlatten"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SimpleFlatten"}}},"description":"Successful response"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidationError"}}},"description":"Validation error"},"default":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}},"description":"Error response"}},"summary":"TestSimpleFlatten","tags":["FlattenService"]}}}}