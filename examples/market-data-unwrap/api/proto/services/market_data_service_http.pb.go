// Code generated by protoc-gen-go-http. DO NOT EDIT.
// source: proto/services/market_data_service.proto

package services

import (
	"context"

	sebufhttp "github.com/SebastienMelki/sebuf/http"
)

// MarketDataServiceServer is the server API for MarketDataService service.
type MarketDataServiceServer interface {
	GetOptionBars(context.Context, *GetOptionBarsRequest) (*GetOptionBarsResponse, error)
	GetLatestOptionBars(context.Context, *GetLatestOptionBarsRequest) (*GetLatestOptionBarsResponse, error)
}

// RegisterMarketDataServiceServer registers the HTTP handlers for service MarketDataService to the given mux.
func RegisterMarketDataServiceServer(server MarketDataServiceServer, opts ...ServerOption) error {
	config := getConfiguration(opts...)

	serviceHeaders := getMarketDataServiceHeaders()

	methodHeaders := getGetOptionBarsHeaders()
	getOptionBarsHandler := BindingMiddleware[GetOptionBarsRequest](
		genericHandler(server.GetOptionBars, config.errorHandler), serviceHeaders, methodHeaders,
		getOptionBarsPathParams, getOptionBarsQueryParams,
		"GET", config.errorHandler,
	)

	config.mux.Handle("GET /v2/options/bars", getOptionBarsHandler)

	methodHeaders = getGetLatestOptionBarsHeaders()
	getLatestOptionBarsHandler := BindingMiddleware[GetLatestOptionBarsRequest](
		genericHandler(server.GetLatestOptionBars, config.errorHandler), serviceHeaders, methodHeaders,
		getLatestOptionBarsPathParams, getLatestOptionBarsQueryParams,
		"GET", config.errorHandler,
	)

	config.mux.Handle("GET /v2/options/bars/latest", getLatestOptionBarsHandler)

	return nil
}

// getMarketDataServiceHeaders returns the service-level required headers for MarketDataService
func getMarketDataServiceHeaders() []*sebufhttp.Header {
	return []*sebufhttp.Header{
		{
			Name:        "APCA-API-KEY-ID",
			Description: "Alpaca API key ID for authentication",
			Type:        "string",
			Required:    true,
			Format:      "",
			Example:     "PKXXXXXXXXXXXXXXXX",
			Deprecated:  false,
		},
		{
			Name:        "APCA-API-SECRET-KEY",
			Description: "Alpaca API secret key for authentication",
			Type:        "string",
			Required:    true,
			Format:      "",
			Example:     "XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
			Deprecated:  false,
		},
	}
}

// getGetOptionBarsHeaders returns the method-level required headers for GetOptionBars
func getGetOptionBarsHeaders() []*sebufhttp.Header {
	return nil
}

// getGetLatestOptionBarsHeaders returns the method-level required headers for GetLatestOptionBars
func getGetLatestOptionBarsHeaders() []*sebufhttp.Header {
	return nil
}

// getOptionBarsPathParams contains path parameter configuration for GetOptionBars
var getOptionBarsPathParams = []PathParamConfig{}

// getOptionBarsQueryParams contains query parameter configuration for GetOptionBars
var getOptionBarsQueryParams = []QueryParamConfig{
	{QueryName: "symbols", FieldName: "symbols", Required: false},
	{QueryName: "timeframe", FieldName: "timeframe", Required: false},
	{QueryName: "start", FieldName: "start", Required: false},
	{QueryName: "end", FieldName: "end", Required: false},
	{QueryName: "limit", FieldName: "limit", Required: false},
	{QueryName: "page_token", FieldName: "page_token", Required: false},
	{QueryName: "sort", FieldName: "sort", Required: false},
}

// getLatestOptionBarsPathParams contains path parameter configuration for GetLatestOptionBars
var getLatestOptionBarsPathParams = []PathParamConfig{}

// getLatestOptionBarsQueryParams contains query parameter configuration for GetLatestOptionBars
var getLatestOptionBarsQueryParams = []QueryParamConfig{
	{QueryName: "symbols", FieldName: "symbols", Required: false},
	{QueryName: "feed", FieldName: "feed", Required: false},
}
